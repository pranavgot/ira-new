"use strict";(self.webpackChunkRIA=self.webpackChunkRIA||[]).push([[253],{5053:(vt,P,d)=>{d.d(P,{t:()=>X});var p=d(6087),e=d(4847),g=d(2075),t=d(5e3),k=d(700),A=d(8555),Y=d(9224),y=d(7423),q=d(9808);function w(_,f){1&_&&(t.TgZ(0,"th",24),t._uU(1," Organization Name "),t.qZA())}function S(_,f){if(1&_&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&_){const m=f.$implicit;t.xp6(1),t.hij(" ",m.orgName," ")}}function L(_,f){1&_&&(t.TgZ(0,"th",24),t._uU(1," Lead Name "),t.qZA())}function F(_,f){if(1&_&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&_){const m=f.$implicit;t.xp6(1),t.hij(" ",m.name," ")}}function O(_,f){1&_&&(t.TgZ(0,"th",24),t._uU(1," Lead Contact Number "),t.qZA())}function Q(_,f){if(1&_&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&_){const m=f.$implicit;t.xp6(1),t.hij(" ",m.contactNo," ")}}function J(_,f){1&_&&(t.TgZ(0,"th",24),t._uU(1," Lead Email ID "),t.qZA())}function B(_,f){if(1&_&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&_){const m=f.$implicit;t.xp6(1),t.hij(" ",m.emailId," ")}}function R(_,f){1&_&&(t.TgZ(0,"th",24),t._uU(1," Date "),t.qZA())}function z(_,f){if(1&_&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&_){const m=f.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,m.createdDate,"dd/MM/yyyy")," ")}}function K(_,f){1&_&&(t.TgZ(0,"th",24),t._uU(1," Actions "),t.qZA())}function H(_,f){if(1&_){const m=t.EpF();t.TgZ(0,"td",25)(1,"span",26),t.NdJ("click",function(){const N=t.CHM(m).$implicit;return t.oxw().viewleads(N)}),t.qZA(),t._uU(2," \xa0\xa0\xa0 "),t._UZ(3,"span",27),t.qZA()}}function W(_,f){1&_&&t._UZ(0,"tr",28)}function j(_,f){1&_&&t._UZ(0,"tr",29)}function $(_,f){if(1&_&&(t.TgZ(0,"tr",30)(1,"td",31),t._uU(2," No data found "),t.qZA()()),2&_){const m=t.oxw();t.xp6(1),t.uIk("colspan",m.displayedColumns.length)}}function G(_,f){if(1&_){const m=t.EpF();t.TgZ(0,"div")(1,"div",32)(2,"div",33)(3,"div",34)(4,"h3"),t._uU(5,"Delete"),t.qZA()(),t.TgZ(6,"div",35)(7,"p"),t._uU(8,"Are you sure to delete?"),t.qZA()(),t.TgZ(9,"div",36)(10,"button",37),t.NdJ("click",function(){return t.CHM(m),t.oxw().CloseModal()}),t._uU(11,"Cancel"),t.qZA(),t.TgZ(12,"button",38),t._uU(13,"Delete "),t._UZ(14,"span",27),t.qZA()()()()()}}const V=function(){return[10,20,50]};let X=(()=>{class _{constructor(m,C){this.LeadsService=m,this.router=C,this.leadsData=[]}ngOnInit(){this.getAllLeads(),this.displayedColumns=["orgName","name","contactNo","emailId","createdDate","action"],this.leadSearch=new g.by([])}Eventproceedings(){var m;null===(m=this.addEventForm)||void 0===m||m.reset(),this.AddEventProceeding=!0}addEventFormSubmit(){}getAllLeads(){this.LeadsService.getAllLeads().subscribe(m=>{this.leadsData=m.responseData,this.leadSearch=new g.by(m.responseData),this.leadSearch.paginator=this.paginator,this.leadSearch.sort=this.sort,console.log("nnn",m,this.leadSearch)})}CloseModal(){this.AddEventProceeding=!1}viewleads(m){this.router.navigate(["/user/admin2/view-leads",{id:m.registrationId}])}applyFilter(m){this.leadSearch=new g.by(this.leadsData.filter(C=>this.containsValue(C,m.target.value.trim().toLowerCase()))),this.leadSearch.paginator=this.paginator,this.leadSearch.sort=this.sort}containsValue(m,C){return Object.values(m).reduce((D,N)=>(null!=N&&(N=N.toString().trim().toLowerCase()),D||(null==N?void 0:N.indexOf(C))>-1),!1)}}return _.\u0275fac=function(m){return new(m||_)(t.Y36(k.C),t.Y36(A.F0))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-lead"]],viewQuery:function(m,C){if(1&m&&(t.Gf(p.NW,5),t.Gf(e.YE,5)),2&m){let D;t.iGM(D=t.CRH())&&(C.paginator=D.first),t.iGM(D=t.CRH())&&(C.sort=D.first)}},decls:36,vars:7,consts:[[1,"heading"],[1,"consen"],[1,"table-group"],[1,"main"],[1,"toolbar-block","margin-top-65"],[1,"search"],["id","form1","value","","placeholder","Search",1,"form-control",3,"keyup"],["mat-button",""],[1,"dds-icon","dds-icon_search__l__stroke","icons"],[1,"table-container","max-height-scroll"],["mat-table","","matSort","",1,"table","table-striped",3,"dataSource"],["matColumnDef","orgName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","contactNo"],["matColumnDef","emailId"],["matColumnDef","createdDate"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSizeOptions"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"dds-icon","dds-icon_eyeopen",3,"click"],[1,"dds-icon","dds-icon_delete__l__stroke"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell"],[1,"taxt_audit-report"],[1,"taxt-audit-popup"],[1,"taxt-header","popup-header"],[1,"popup-body"],[1,"button-group"],["mat-button","",3,"click"],["mat-button","","routerLink","/user/admin2/view-leads",1,"primary"]],template:function(m,C){1&m&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Leads"),t.qZA()(),t.TgZ(3,"div",1)(4,"mat-card",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"input",6),t.NdJ("keyup",function(N){return C.applyFilter(N)}),t.qZA(),t.TgZ(9,"button",7),t._UZ(10,"span",8),t.qZA()()(),t.TgZ(11,"div",9)(12,"table",10),t.ynx(13,11),t.YNc(14,w,2,0,"th",12),t.YNc(15,S,2,1,"td",13),t.BQk(),t.ynx(16,14),t.YNc(17,L,2,0,"th",12),t.YNc(18,F,2,1,"td",13),t.BQk(),t.ynx(19,15),t.YNc(20,O,2,0,"th",12),t.YNc(21,Q,2,1,"td",13),t.BQk(),t.ynx(22,16),t.YNc(23,J,2,0,"th",12),t.YNc(24,B,2,1,"td",13),t.BQk(),t.ynx(25,17),t.YNc(26,R,2,0,"th",12),t.YNc(27,z,3,4,"td",13),t.BQk(),t.ynx(28,18),t.YNc(29,K,2,0,"th",12),t.YNc(30,H,4,0,"td",13),t.BQk(),t.YNc(31,W,1,0,"tr",19),t.YNc(32,j,1,0,"tr",20),t.YNc(33,$,3,1,"tr",21),t.qZA()(),t._UZ(34,"mat-paginator",22),t.qZA()(),t.YNc(35,G,15,0,"div",23),t.qZA()),2&m&&(t.xp6(12),t.Q6J("dataSource",C.leadSearch),t.xp6(19),t.Q6J("matHeaderRowDef",C.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",C.displayedColumns),t.xp6(2),t.Q6J("length",null==C.leadSearch?null:C.leadSearch.data.length)("pageSizeOptions",t.DdM(6,V)),t.xp6(1),t.Q6J("ngIf",C.AddEventProceeding))},directives:[Y.a8,y.lW,g.BZ,e.YE,g.w1,g.fO,g.ge,g.Dz,g.ev,g.as,g.XQ,g.nj,g.Gk,g.Ee,p.NW,q.O5,A.rH],pipes:[q.uU],styles:[""]}),_})()},2537:(vt,P,d)=>{d.d(P,{b:()=>ht});var p=d(2075),e=d(5e3),g=d(8896),t=d(8555),k=d(3144),A=d(3075),Y=d(2313),y=d(9536),q=d(9808),w=d(9224),S=d(7423),L=d(6087);const F=["exPaginator"],O=["inPaginator"],Q=["sort"],J=["sort1"];function B(i,c){1&i&&(e.TgZ(0,"li"),e._uU(1,"Internal"),e.qZA())}function R(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Organization Name "),e.qZA())}function z(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.organizationName," ")}}function K(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Contact Person Name "),e.qZA())}function H(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.spocName," ")}}function W(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Email ID "),e.qZA())}function j(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.spocEmailId," ")}}function $(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Contact Person Number "),e.qZA())}function G(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.spocphoneNo," ")}}function V(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Actions "),e.qZA())}function X(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"td",31)(1,"span",32),e.NdJ("click",function(){const Z=e.CHM(o).$implicit;return e.oxw(2).edit(Z)}),e.qZA(),e._uU(2,"\xa0 \xa0 "),e._UZ(3,"span",33),e.qZA()}}function _(i,c){1&i&&e._UZ(0,"tr",34)}function f(i,c){1&i&&e._UZ(0,"tr",35)}function m(i,c){if(1&i&&(e.TgZ(0,"tr",36)(1,"td",37),e._uU(2," No data found "),e.qZA()()),2&i){const o=e.oxw(2);e.xp6(1),e.uIk("colspan",o.displayedColumns.length)}}const C=function(){return[10,20,50]};function D(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"div",4)(1,"mat-card",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"button",10),e.NdJ("click",function(){return e.CHM(o),e.oxw().changetab(1)}),e._uU(7,"External"),e.qZA(),e._uU(8,"\xa0 "),e.TgZ(9,"button",10),e.NdJ("click",function(){return e.CHM(o),e.oxw().changetab(2)}),e._uU(10,"Internal"),e.qZA()()(),e.TgZ(11,"div",11)(12,"input",12),e.NdJ("keyup",function(h){return e.CHM(o),e.oxw().applyFilter(h)}),e.qZA(),e.TgZ(13,"button",13),e._UZ(14,"span",14),e.qZA()()(),e.TgZ(15,"div")(16,"div",15)(17,"table",16,17),e.ynx(19,18),e.YNc(20,R,2,0,"th",19),e.YNc(21,z,2,1,"td",20),e.BQk(),e.ynx(22,21),e.YNc(23,K,2,0,"th",19),e.YNc(24,H,2,1,"td",20),e.BQk(),e.ynx(25,22),e.YNc(26,W,2,0,"th",19),e.YNc(27,j,2,1,"td",20),e.BQk(),e.ynx(28,23),e.YNc(29,$,2,0,"th",19),e.YNc(30,G,2,1,"td",20),e.BQk(),e.ynx(31,24),e.YNc(32,V,2,0,"th",19),e.YNc(33,X,4,0,"td",20),e.BQk(),e.YNc(34,_,1,0,"tr",25),e.YNc(35,f,1,0,"tr",26),e.YNc(36,m,3,1,"tr",27),e.qZA()(),e._UZ(37,"mat-paginator",28,29),e.qZA()()()()}if(2&i){const o=e.oxw();e.xp6(6),e.ekj("active",o.tab1),e.xp6(3),e.ekj("active",o.tab2),e.xp6(8),e.Q6J("dataSource",o.SubSearch),e.xp6(17),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(2),e.Q6J("length",null==o.SubSearch?null:o.SubSearch.data.length)("pageSizeOptions",e.DdM(9,C))}}function N(i,c){if(1&i&&(e.TgZ(0,"div")(1,"label",69),e._UZ(2,"img",70),e.qZA()()),2&i){const o=e.oxw(2);e.xp6(2),e.Q6J("src",o.organizationLogo,e.LSH)}}function tt(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," User Name "),e.qZA())}function et(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.userName," ")}}function at(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Role "),e.qZA())}function nt(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.roleName," ")}}function ot(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," User Email Id "),e.qZA())}function it(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.emailId," ")}}function rt(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," User Contact Number "),e.qZA())}function st(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.contactNo," ")}}function lt(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Status "),e.qZA())}function _t(i,c){if(1&i&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&i){const o=c.$implicit;e.xp6(1),e.hij(" ",o.status," ")}}function dt(i,c){1&i&&(e.TgZ(0,"th",30),e._uU(1," Actions "),e.qZA())}function ct(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"td",31)(1,"span",32),e.NdJ("click",function(){const Z=e.CHM(o).$implicit;return e.oxw(2).viewuserSubscriptions(Z)}),e.qZA(),e._uU(2,"\xa0 \xa0 "),e._UZ(3,"span",33),e.qZA()}}function ut(i,c){1&i&&e._UZ(0,"tr",34)}function mt(i,c){1&i&&e._UZ(0,"tr",35)}function pt(i,c){if(1&i&&(e.TgZ(0,"tr",36)(1,"td",37),e._uU(2," No data found "),e.qZA()()),2&i){const o=e.oxw(2);e.xp6(1),e.uIk("colspan",o.displayedColumns1.length)}}function gt(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"div",4)(1,"div",6)(2,"div",38)(3,"div",39)(4,"div",9)(5,"button",10),e.NdJ("click",function(){return e.CHM(o),e.oxw().changetab(1)}),e._uU(6,"External"),e.qZA(),e._uU(7,"\xa0 "),e.TgZ(8,"button",10),e.NdJ("click",function(){return e.CHM(o),e.oxw().changetab(2)}),e._uU(9,"Internal"),e.qZA()()()(),e.TgZ(10,"mat-card",40)(11,"form",41)(12,"div",42)(13,"h3"),e._uU(14,"Organization Details"),e.qZA()(),e.TgZ(15,"div",43)(16,"div",44)(17,"div",43)(18,"div",45)(19,"div",46)(20,"label"),e._uU(21,"Organization Name"),e.qZA(),e._UZ(22,"input",47),e.qZA()(),e.TgZ(23,"div",45)(24,"div",46)(25,"label"),e._uU(26,"Contact Person Name"),e.qZA(),e._UZ(27,"input",48),e.qZA()(),e.TgZ(28,"div",45)(29,"label"),e._uU(30,"Contact Person Number"),e.qZA(),e.TgZ(31,"div",49)(32,"span",50),e._uU(33,"+91"),e.qZA(),e._UZ(34,"input",51),e.qZA()(),e.TgZ(35,"div",45)(36,"div",46)(37,"label"),e._uU(38,"Email Id"),e.qZA(),e._UZ(39,"input",52),e.qZA()(),e.TgZ(40,"div",45)(41,"div",46)(42,"label"),e._uU(43,"Contact Person Designation"),e.qZA(),e._UZ(44,"input",53),e.qZA()(),e.TgZ(45,"div",45),e.YNc(46,N,3,1,"div",2),e.qZA()()(),e.TgZ(47,"div",54)(48,"div",43)(49,"div",55)(50,"div",46)(51,"label"),e._uU(52,"Organization Address"),e.qZA(),e._UZ(53,"textarea",56),e.qZA()()()()()(),e.TgZ(54,"div",6)(55,"div",57)(56,"div",58)(57,"input",59),e.NdJ("keyup",function(h){return e.CHM(o),e.oxw().applyFilter1(h)}),e.qZA(),e.TgZ(58,"button",13),e._UZ(59,"span",14),e.qZA()()(),e.TgZ(60,"div",60)(61,"table",61,62),e.ynx(63,63),e.YNc(64,tt,2,0,"th",19),e.YNc(65,et,2,1,"td",20),e.BQk(),e.ynx(66,64),e.YNc(67,at,2,0,"th",19),e.YNc(68,nt,2,1,"td",20),e.BQk(),e.ynx(69,65),e.YNc(70,ot,2,0,"th",19),e.YNc(71,it,2,1,"td",20),e.BQk(),e.ynx(72,66),e.YNc(73,rt,2,0,"th",19),e.YNc(74,st,2,1,"td",20),e.BQk(),e.ynx(75,67),e.YNc(76,lt,2,0,"th",19),e.YNc(77,_t,2,1,"td",20),e.BQk(),e.ynx(78,24),e.YNc(79,dt,2,0,"th",19),e.YNc(80,ct,4,0,"td",20),e.BQk(),e.YNc(81,ut,1,0,"tr",25),e.YNc(82,mt,1,0,"tr",26),e.YNc(83,pt,3,1,"tr",27),e.qZA()(),e._UZ(84,"mat-paginator",28,68),e.qZA()()()()}if(2&i){const o=e.oxw();e.xp6(5),e.ekj("active",o.tab1),e.xp6(3),e.ekj("active",o.tab2),e.xp6(3),e.Q6J("formGroup",o.orgdetailsForm),e.xp6(35),e.Q6J("ngIf",o.organizationLogo),e.xp6(15),e.Q6J("dataSource",o.dataSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.displayedColumns1),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns1),e.xp6(2),e.Q6J("length",null==o.dataSource||null==o.dataSource.data?null:o.dataSource.data.length)("pageSizeOptions",e.DdM(11,C))}}let ht=(()=>{class i{constructor(o,u,h,Z,x,T,I){this.userService=o,this.router=u,this.toast=h,this.formBuilder=Z,this.sanitizer=x,this.Users_service=T,this.popup=I,this.tab1=!1,this.tab2=!1,this.displayedColumns1=["userName","roleName","emailId","contactNo","status","action"],this.dataSource=new p.by([])}set exPaginator(o){this.SubSearch&&(this.SubSearch.paginator=o,console.log(o))}set inPaginator(o){this.dataSource&&(this.dataSource.paginator=o)}ngOnInit(){var o;this.getAllorgDetails(),this.displayedColumns=["organizationName","spocName","spocEmailId","spocphoneNo","action"],this.orgdetailsForm=null===(o=this.formBuilder)||void 0===o?void 0:o.group({spocDesignation:[{value:"",disabled:!0}],spocphoneNo:[{value:"",disabled:!0}],spocEmailId:[{value:"",disabled:!0}],organizationEmailId:[{value:"",disabled:!0}],organizationName:[{value:"",disabled:!0}],spocName:[{value:"",disabled:!0}],address:[{value:"",disabled:!0}]}),this.getInternalUserDetails()}getAllorgDetails(){this.userService.getAllorgDetails().subscribe(o=>{console.log("orgdetail",o),this.usersData=[],o.responseData.forEach(u=>{this.usersData.push({organizationId:u.organizationId,industryId:u.industryId,sectorId:u.sectorId,spocDesignation:u.spocDesignation,organizationName:u.organizationName,spocName:u.spocName,spocEmailId:u.spocEmailId,spocphoneNo:u.spocphoneNo})}),this.SubSearch=new p.by(o.responseData),this.SubSearch.paginator=this.exPaginator,this.changetab(1),this.SubSearch.sort=this.sort,console.log("nnn",o,this.SubSearch.data.length)})}edit(o){this.Users_service.getallusers(o.organizationId).subscribe(u=>{console.log(u.responseData[0].userMstDto),u.responseData[0].userMstDto.length>0?this.router.navigate(["/user/admin2/view-subscription",{organizationId:o.organizationId,serviceRequestId:null}]):this.popup.open(!1,"No users exist for the client, please add")})}applyFilter(o){this.SubSearch=new p.by(this.usersData.filter(u=>this.containsValue(u,o.target.value.trim().toLowerCase()))),this.SubSearch.paginator=this.exPaginator,this.SubSearch.sort=this.sort}containsValue(o,u){return Object.values(o).reduce((h,Z)=>(null!=Z&&(Z=Z.toString().trim().toLowerCase()),h||(null==Z?void 0:Z.indexOf(u))>-1),!1)}changetab(o){1==o?(this.tab1=!0,this.tab2=!1):(console.log("tab2"),this.tab1=!1,this.tab2=!0)}getInternalUserDetails(){var o,u;null===(u=null===(o=this.userService)||void 0===o?void 0:o.getAllInternalUsers())||void 0===u||u.subscribe(h=>{var Z,x,T,I;this.orgData=null===(Z=h.responseData)||void 0===Z?void 0:Z.organizationMstDto,this.internalUsersData=null===(x=h.responseData)||void 0===x?void 0:x.userMstDtolist,this.orgdetailsForm.patchValue({organizationName:this.orgData.organizationName,spocphoneNo:this.orgData.spocphoneNo,spocEmailId:this.orgData.spocEmailId,organizationEmailId:this.orgData.organizationEmailId,address:this.orgData.address,spocName:this.orgData.spocName,spocDesignation:this.orgData.spocDesignation}),this.organizationLogo=(null===(T=this.orgData)||void 0===T?void 0:T.imageDataresponse)?null===(I=this.sanitizer)||void 0===I?void 0:I.bypassSecurityTrustResourceUrl("data:image/png;base64,"+this.orgData.imageDataresponse):null,this.dataSource=new p.by(this.internalUsersData),this.dataSource.paginator=this.inPaginator})}applyFilter1(o){var u;this.dataSource=new p.by(null===(u=this.internalUsersData)||void 0===u?void 0:u.filter(h=>{var Z,x;return this.getFilteredList(h,null===(x=null===(Z=o.target)||void 0===Z?void 0:Z.value.trim())||void 0===x?void 0:x.toLowerCase())})),this.dataSource.paginator=this.inPaginator}viewuserSubscriptions(o){this.router.navigate(["/user/admin2/view-subscription",{organizationId:null==o?void 0:o.organizationId,userId:null==o?void 0:o.userId,roleName:"internal"}])}getFilteredList(o,u){var h,Z;return null===(Z=null===(h=null==Object?void 0:Object.values(o))||void 0===h?void 0:h.map(x=>{var T,I;return null===(I=null===(T=null==x?void 0:x.toString())||void 0===T?void 0:T.trim())||void 0===I?void 0:I.toLowerCase()}))||void 0===Z?void 0:Z.reduce((x,T)=>x||(null==T?void 0:T.indexOf(u))>-1,!1)}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(g.f),e.Y36(t.F0),e.Y36(k.q),e.Y36(A.qu),e.Y36(Y.H7),e.Y36(g.f),e.Y36(y.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-subscription"]],viewQuery:function(o,u){if(1&o&&(e.Gf(F,5),e.Gf(O,5),e.Gf(Q,5),e.Gf(J,5)),2&o){let h;e.iGM(h=e.CRH())&&(u.exPaginator=h.first),e.iGM(h=e.CRH())&&(u.inPaginator=h.first),e.iGM(h=e.CRH())&&(u.sort=h.first),e.iGM(h=e.CRH())&&(u.sort1=h.first)}},decls:8,vars:3,consts:[[1,"heading"],[1,"page-title-wrapper"],[4,"ngIf"],["class","consen",4,"ngIf"],[1,"consen"],[1,"table-group"],[1,"main"],[1,"toolbar-block","margin-top-65"],[1,"tabs-button-row"],[1,"tab-buttons"],["mat-button","",3,"click"],[1,"search"],["id","form1","placeholder","Search",1,"form-control",3,"keyup"],["mat-button",""],[1,"dds-icon","dds-icon_search__l__stroke","icons"],[1,"table-container","max-height-scroll"],["mat-table","",1,"table","table-striped","solutions-table",3,"dataSource"],["sort",""],["matColumnDef","organizationName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","spocName"],["matColumnDef","spocEmailId"],["matColumnDef","spocphoneNo"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSizeOptions"],["exPaginator",""],["mat-header-cell",""],["mat-cell",""],[1,"dds-icon","dds-icon_edit__l__stroke",3,"click"],[1,"dds-icon","dds-icon_delete__l__stroke"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell"],[1,"toolbar-block",2,"align-items","flex-start"],[1,"tabs-button-row",2,"padding-top","0px","margin-right","auto"],[1,"middle","table-group",2,"margin-bottom","40px"],[3,"formGroup"],[1,"header"],[1,"row"],[1,"col-md-8"],[1,"col-sm-6"],[1,"input-group"],["type","text","formControlName","organizationName",1,"form-control","reflect-model"],["type","text","formControlName","spocName",1,"form-control","reflect-model"],[1,"input-group","prefix"],[1,"input-group-addon"],["type","text","formControlName","spocphoneNo",1,"form-control","reflect-model"],["type","text","formControlName","spocEmailId",1,"form-control","reflect-model"],["type","text","formControlName","spocDesignation",1,"form-control","reflect-model"],[1,"col-md-4"],[1,"col-sm-12"],["rows","4","cols","50","type","text","formControlName","address","maxlength","150",1,"form-control","reflect-model",2,"height","220px"],[1,"toolbar-block"],[1,"search","mt-4","mb-2"],["id","form2","placeholder","Search",1,"form-control",3,"keyup"],[1,"table-container"],["mat-table","",1,"table","table-striped",3,"dataSource"],["sort1",""],["matColumnDef","userName"],["matColumnDef","roleName"],["matColumnDef","emailId"],["matColumnDef","contactNo"],["matColumnDef","status"],["inPaginator",""],["for","imgfile"],["alt","",2,"height","200px","min-width","100px","width","auto",3,"src"]],template:function(o,u){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"ul")(3,"li"),e._uU(4,"Subscription Management"),e.qZA(),e.YNc(5,B,2,0,"li",2),e.qZA()()(),e.YNc(6,D,39,10,"div",3),e.YNc(7,gt,86,12,"div",3)),2&o&&(e.xp6(5),e.Q6J("ngIf",u.tab2),e.xp6(1),e.Q6J("ngIf",u.tab1),e.xp6(1),e.Q6J("ngIf",u.tab2))},directives:[q.O5,w.a8,S.lW,p.BZ,p.w1,p.fO,p.ge,p.Dz,p.ev,p.as,p.XQ,p.nj,p.Gk,p.Ee,L.NW,A._Y,A.JL,A.sg,A.Fj,A.JJ,A.u,A.nD],styles:[""]}),i})()},4696:(vt,P,d)=>{d.d(P,{T:()=>Ut});var p=d(3075),e=d(4847),g=d(2075),t=d(5e3),k=d(700),A=d(8555),Y=d(3144),y=d(8896),q=d(9536),w=d(2313),S=d(9808),L=d(330),F=d(9224),O=d(7423),Q=d(6087),J=d(7322),B=d(4107),R=d(508),z=d(5245),K=d(2368);const H=["userPaginator"],W=["subPaginator"];function j(n,r){1&n&&(t.TgZ(0,"li"),t._uU(1,"Internal"),t.qZA())}function $(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," User Name "),t.qZA())}function G(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.userName," ")}}function V(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," Organization Name "),t.qZA())}function X(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.organizationName," ")}}function _(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," User Email Id "),t.qZA())}function f(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.emailId," ")}}function m(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," User Contact Number "),t.qZA())}function C(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.contactNo," ")}}function D(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," Status "),t.qZA())}function N(n,r){1&n&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2," Active "),t.qZA(),t.BQk())}function tt(n,r){1&n&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2," Inactive "),t.qZA(),t.BQk())}function et(n,r){if(1&n&&(t.TgZ(0,"td",33),t.YNc(1,N,3,0,"ng-container",2),t.YNc(2,tt,3,0,"ng-container",2),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.Q6J("ngIf","1"==a.status),t.xp6(1),t.Q6J("ngIf","0"==a.status)}}function at(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," Actions "),t.qZA())}function nt(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"td",33)(1,"span",34),t.NdJ("click",function(){const v=t.CHM(a).$implicit;return t.oxw(2).viewuserdetails(v)}),t.qZA(),t._uU(2,"\xa0 \xa0 "),t._UZ(3,"span",35),t.qZA()}}function ot(n,r){1&n&&t._UZ(0,"tr",36)}function it(n,r){1&n&&t._UZ(0,"tr",37)}function rt(n,r){if(1&n&&(t.TgZ(0,"tr",38)(1,"td",39),t._uU(2," No data found "),t.qZA()()),2&n){const a=t.oxw(2);t.xp6(1),t.uIk("colspan",a.displayedColumns.length)}}const st=function(){return[10,20,50]};function lt(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"div",5)(1,"mat-card",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"button",10),t.NdJ("click",function(){return t.CHM(a),t.oxw().changetab(1)}),t._uU(6,"External"),t.qZA(),t._uU(7,"\xa0 "),t.TgZ(8,"button",10),t.NdJ("click",function(){return t.CHM(a),t.oxw().changetab(2)}),t._uU(9,"Internal"),t.qZA()()(),t.TgZ(10,"div",11)(11,"input",12),t.NdJ("keyup",function(l){return t.CHM(a),t.oxw().applyFilter(l)}),t.qZA(),t._UZ(12,"span",13),t.qZA(),t.TgZ(13,"a",14),t._uU(14,"Add "),t._UZ(15,"span",15),t.qZA()(),t.TgZ(16,"div",16)(17,"div",17)(18,"table",18),t.ynx(19,19),t.YNc(20,$,2,0,"th",20),t.YNc(21,G,2,1,"td",21),t.BQk(),t.ynx(22,22),t.YNc(23,V,2,0,"th",20),t.YNc(24,X,2,1,"td",21),t.BQk(),t.ynx(25,23),t.YNc(26,_,2,0,"th",20),t.YNc(27,f,2,1,"td",21),t.BQk(),t.ynx(28,24),t.YNc(29,m,2,0,"th",20),t.YNc(30,C,2,1,"td",21),t.BQk(),t.ynx(31,25),t.YNc(32,D,2,0,"th",20),t.YNc(33,et,3,2,"td",21),t.BQk(),t.ynx(34,26),t.YNc(35,at,2,0,"th",20),t.YNc(36,nt,4,0,"td",21),t.BQk(),t.YNc(37,ot,1,0,"tr",27),t.YNc(38,it,1,0,"tr",28),t.YNc(39,rt,3,1,"tr",29),t.qZA()(),t._UZ(40,"mat-paginator",30,31),t.qZA()()()}if(2&n){const a=t.oxw();t.xp6(5),t.ekj("active",a.tab1),t.xp6(3),t.ekj("active",a.tab2),t.xp6(10),t.Q6J("dataSource",a.usersSearch),t.xp6(19),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(2),t.Q6J("length",null==a.usersSearch?null:a.usersSearch.data.length)("pageSizeOptions",t.DdM(9,st))}}function _t(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"mat-option",78),t.NdJ("onSelectionChange",function(l){const b=t.CHM(a).$implicit;return t.oxw(2).selectionChange(l,b)}),t._uU(1),t.qZA()}if(2&n){const a=r.$implicit;t.Q6J("value",a),t.xp6(1),t.Oqu(a.industryName)}}function dt(n,r){if(1&n&&(t.TgZ(0,"div")(1,"label",79),t._UZ(2,"img",80),t.qZA()()),2&n){const a=t.oxw(2);t.xp6(2),t.Q6J("src",a.demo,t.LSH)}}function ct(n,r){if(1&n&&(t.TgZ(0,"mat-option",81),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.Q6J("value",a),t.xp6(1),t.Oqu(a.sectorName)}}function ut(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," User Name "),t.qZA())}function mt(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.userName," ")}}function pt(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," Role "),t.qZA())}function gt(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.roleName," ")}}function ht(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," User Email Id "),t.qZA())}function i(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.emailId," ")}}function c(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," User Contact Number "),t.qZA())}function o(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.contactNo," ")}}function u(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," Status "),t.qZA())}function h(n,r){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.xp6(1),t.hij(" ",a.status," ")}}function Z(n,r){1&n&&(t.TgZ(0,"th",32),t._uU(1," Actions "),t.qZA())}function x(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"td",33)(1,"span",34),t.NdJ("click",function(){const v=t.CHM(a).$implicit;return t.oxw(2).viewuserdetails1(v)}),t.qZA(),t._uU(2,"\xa0 \xa0 "),t.TgZ(3,"span",82),t.NdJ("click",function(){const v=t.CHM(a).index;return t.oxw(2).deleteuser(v)}),t.qZA()()}}function T(n,r){1&n&&t._UZ(0,"tr",36)}function I(n,r){1&n&&t._UZ(0,"tr",37)}function ft(n,r){if(1&n&&(t.TgZ(0,"tr",38)(1,"td",39),t._uU(2," No data found "),t.qZA()()),2&n){const a=t.oxw(2);t.xp6(1),t.uIk("colspan",a.displayedColumns1.length)}}const E=function(n){return{"is-invalid":n}},Zt=function(){return[15,30,50]};function Ct(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",9)(4,"button",10),t.NdJ("click",function(){return t.CHM(a),t.oxw().changetab(1)}),t._uU(5,"External"),t.qZA(),t._uU(6,"\xa0 "),t.TgZ(7,"button",10),t.NdJ("click",function(){return t.CHM(a),t.oxw().changetab(2)}),t._uU(8,"Internal"),t.qZA()()()(),t.TgZ(9,"div",43)(10,"mat-card")(11,"form",44)(12,"div",45)(13,"h3"),t._uU(14,"Organization Details"),t.qZA()(),t.TgZ(15,"div",46)(16,"div",47)(17,"div",46)(18,"div",48)(19,"div",49)(20,"label"),t._uU(21,"Organization Name"),t.qZA(),t._UZ(22,"input",50),t.qZA()(),t.TgZ(23,"div",48)(24,"div",49)(25,"label"),t._uU(26,"Contact Person Name"),t.qZA(),t._UZ(27,"input",51),t.qZA()(),t.TgZ(28,"div",48)(29,"div",49)(30,"label"),t._uU(31,"Contact Person Designation"),t.qZA(),t._UZ(32,"input",52),t.qZA()(),t.TgZ(33,"div",48)(34,"label"),t._uU(35,"Contact Person Number"),t.qZA(),t.TgZ(36,"div",53)(37,"span",54),t._uU(38,"+91"),t.qZA(),t._UZ(39,"input",55),t.qZA()(),t.TgZ(40,"div",48)(41,"div",49)(42,"label"),t._uU(43,"Email Id"),t.qZA(),t._UZ(44,"input",56),t.qZA()(),t.TgZ(45,"div",48)(46,"div",49)(47,"label"),t._uU(48,"Industry"),t.TgZ(49,"sup"),t._uU(50,"*"),t.qZA()(),t.TgZ(51,"mat-form-field",57)(52,"mat-select",58),t.YNc(53,_t,2,2,"mat-option",59),t.qZA()()()(),t.TgZ(54,"div",48),t.YNc(55,dt,3,1,"div",2),t.qZA()()(),t.TgZ(56,"div",60)(57,"div",46)(58,"div",61)(59,"div",49)(60,"label"),t._uU(61,"Organization Address"),t.qZA(),t._UZ(62,"textarea",62),t.qZA()(),t.TgZ(63,"div",61)(64,"div",49)(65,"label"),t._uU(66,"Sector"),t.TgZ(67,"sup"),t._uU(68,"*"),t.qZA()(),t.TgZ(69,"mat-form-field",57)(70,"mat-select",63),t.YNc(71,ct,2,2,"mat-option",64),t.qZA()()()()()()()(),t.TgZ(72,"div",65)(73,"div",41)(74,"h4"),t._uU(75,"Users"),t.qZA(),t.TgZ(76,"div",11)(77,"input",12),t.NdJ("keyup",function(l){return t.CHM(a),t.oxw().applyFilter1(l)}),t.qZA(),t.TgZ(78,"button",66),t._UZ(79,"span",13),t.qZA()()(),t.TgZ(80,"div",67)(81,"table",68)(82,"button",69),t.NdJ("click",function(l){return t.CHM(a),t.oxw().edit1(l)}),t._uU(83,"Add User"),t.qZA(),t.ynx(84,19),t.YNc(85,ut,2,0,"th",20),t.YNc(86,mt,2,1,"td",21),t.BQk(),t.ynx(87,70),t.YNc(88,pt,2,0,"th",20),t.YNc(89,gt,2,1,"td",21),t.BQk(),t.ynx(90,23),t.YNc(91,ht,2,0,"th",20),t.YNc(92,i,2,1,"td",21),t.BQk(),t.ynx(93,24),t.YNc(94,c,2,0,"th",20),t.YNc(95,o,2,1,"td",21),t.BQk(),t.ynx(96,25),t.YNc(97,u,2,0,"th",20),t.YNc(98,h,2,1,"td",21),t.BQk(),t.ynx(99,26),t.YNc(100,Z,2,0,"th",20),t.YNc(101,x,4,0,"td",21),t.BQk(),t.YNc(102,T,1,0,"tr",27),t.YNc(103,I,1,0,"tr",28),t.YNc(104,ft,3,1,"tr",29),t.qZA()(),t._UZ(105,"mat-paginator",30,71),t.TgZ(107,"div",72)(108,"button",73),t.NdJ("click",function(l){return t.CHM(a),t.oxw().edit1(l)}),t._uU(109,"Add User "),t._UZ(110,"span",15),t.qZA()()()()(),t.TgZ(111,"div",74)(112,"button",75),t.NdJ("click",function(){return t.CHM(a),t.oxw().cancel()}),t._uU(113,"Cancel "),t._UZ(114,"span",76),t.qZA(),t.TgZ(115,"button",77),t.NdJ("click",function(){return t.CHM(a),t.oxw().userorgdetailsSubmit()}),t._uU(116,"Save "),t.TgZ(117,"mat-icon"),t._uU(118,"save"),t.qZA()()()()}if(2&n){const a=t.oxw();t.xp6(4),t.ekj("active",a.tab1),t.xp6(3),t.ekj("active",a.tab2),t.xp6(4),t.Q6J("formGroup",a.orgdetailsForm),t.xp6(11),t.Q6J("ngClass",t.VKq(21,E,a.submited&&a.orgdetailsForm.controls.organizationName.errors)),t.xp6(5),t.Q6J("ngClass",t.VKq(23,E,a.submited&&a.orgdetailsForm.controls.spocName.errors)),t.xp6(5),t.Q6J("ngClass",t.VKq(25,E,a.submited&&a.orgdetailsForm.controls.spocDesignation.errors)),t.xp6(7),t.Q6J("ngClass",t.VKq(27,E,a.submited&&a.orgdetailsForm.controls.spocphoneNo.errors)),t.xp6(5),t.Q6J("ngClass",t.VKq(29,E,a.submited&&a.orgdetailsForm.controls.spocEmailId.errors)),t.xp6(8),t.Q6J("ngClass",t.VKq(31,E,a.submited&&a.orgdetailsForm.controls.industryId.errors)),t.xp6(1),t.Q6J("ngForOf",a.indusData),t.xp6(2),t.Q6J("ngIf",a.demoimg),t.xp6(7),t.Q6J("ngClass",t.VKq(33,E,a.submited&&a.orgdetailsForm.controls.address.errors)),t.xp6(8),t.Q6J("ngClass",t.VKq(35,E,a.submited&&a.orgdetailsForm.controls.sectorId.errors)),t.xp6(1),t.Q6J("ngForOf",a.sectData),t.xp6(10),t.Q6J("dataSource",a.dataSource),t.xp6(21),t.Q6J("matHeaderRowDef",a.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns1),t.xp6(2),t.Q6J("length",null==a.dataSource||null==a.dataSource.data?null:a.dataSource.data.length)("pageSizeOptions",t.DdM(37,Zt))}}function xt(n,r){if(1&n&&(t.TgZ(0,"mat-option",81),t._uU(1),t.qZA()),2&n){const a=r.$implicit;t.Q6J("value",a),t.xp6(1),t.Oqu(a.roleName)}}function bt(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"div")(1,"div",83)(2,"div",84)(3,"div",85)(4,"h3"),t._uU(5,"Add User"),t.qZA()(),t.TgZ(6,"form",86),t.NdJ("ngSubmit",function(){return t.CHM(a),t.oxw().adduser()}),t.TgZ(7,"div",87)(8,"div",46)(9,"div",88)(10,"label"),t._uU(11,"User Name"),t.TgZ(12,"sup"),t._uU(13,"*"),t.qZA()(),t._UZ(14,"input",89),t.qZA(),t.TgZ(15,"div",88)(16,"label"),t._uU(17,"Designation"),t.TgZ(18,"sup"),t._uU(19,"*"),t.qZA()(),t._UZ(20,"input",90),t.qZA(),t.TgZ(21,"div",88)(22,"label"),t._uU(23,"Contact Number"),t.TgZ(24,"sup"),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"div",53)(27,"span",54),t._uU(28,"+91"),t.qZA(),t._UZ(29,"input",91),t.qZA()()(),t.TgZ(30,"div",46)(31,"div",88)(32,"label"),t._uU(33,"Email Id"),t.TgZ(34,"sup"),t._uU(35,"*"),t.qZA()(),t._UZ(36,"input",92),t.qZA(),t.TgZ(37,"div",88)(38,"label"),t._uU(39,"User Role"),t.qZA(),t.TgZ(40,"mat-form-field",57)(41,"mat-select",93),t.YNc(42,xt,2,2,"mat-option",64),t.qZA()()(),t.TgZ(43,"div",88)(44,"div",49)(45,"label"),t._uU(46,"User Status"),t.qZA(),t.TgZ(47,"div",94)(48,"label"),t._uU(49,"Inactive"),t.qZA(),t._UZ(50,"mat-slide-toggle",95),t.TgZ(51,"label"),t._uU(52,"Active"),t.qZA()()()()()(),t.TgZ(53,"div",96)(54,"button",97),t.NdJ("click",function(){return t.CHM(a),t.oxw().CloseModal()}),t._uU(55,"Cancel "),t._UZ(56,"span",76),t.qZA(),t.TgZ(57,"button",98),t.NdJ("click",function(){return t.CHM(a),t.oxw().adduser()}),t._uU(58,"Save "),t._UZ(59,"span",99),t.qZA()()()()()()}if(2&n){const a=t.oxw();t.xp6(6),t.Q6J("formGroup",a.addusersdetailsForm),t.xp6(8),t.Q6J("ngClass",t.VKq(7,E,a.submit&&a.addusersdetailsForm.controls.name.errors)),t.xp6(6),t.Q6J("ngClass",t.VKq(9,E,a.submit&&a.addusersdetailsForm.controls.designation.errors)),t.xp6(9),t.Q6J("ngClass",t.VKq(11,E,a.submit&&a.addusersdetailsForm.controls.contactnumber.errors)),t.xp6(7),t.Q6J("ngClass",t.VKq(13,E,a.submit&&a.addusersdetailsForm.controls.email.errors)),t.xp6(5),t.Q6J("ngClass",t.VKq(15,E,a.submit&&a.addusersdetailsForm.controls.roleId.errors)),t.xp6(1),t.Q6J("ngForOf",a.userroles)}}let Ut=(()=>{class n{constructor(a,s,l,v,b,U,M,Tt,At,Nt){this.LeadsService=a,this.router=s,this.toast=l,this.usersService=v,this.Users_service=b,this.formBuilder=U,this.popup=M,this._sanitizer=Tt,this.location=At,this.Master_service=Nt,this.checked=!0,this.tab1=!1,this.tab2=!1,this.addUser=[],this.editindex=-1,this.imgFile=null,this.submited=!1,this.submit=!1,this.demoimg=!1,this.dataSource=new g.by([]),this.disableButton=!1}set userPaginator(a){this.usersSearch&&(this.usersSearch.paginator=a,console.log(a))}set subPaginator(a){this.dataSource&&(this.dataSource.paginator=a)}ngOnInit(){this.getAllUserDetails(),this.getAllIndustry(),this.displayedColumns=["userName","organizationName","emailId","contactNo","status","action"],this.displayedColumns1=["userName","roleName","emailId","contactNo","status","action"],this.orgdetailsForm=this.formBuilder.group({spocDesignation:[{value:""}],spocphoneNo:[{value:""}],spocEmailId:[{value:""}],organizationEmailId:[{value:""}],file:[],organizationName:[{value:""}],spocName:[{value:""}],address:[{value:""}],sectorId:[{value:""}],industryId:[{value:""}]}),this.addusersdetailsForm=this.formBuilder.group({name:["",p.kI.required],designation:["",p.kI.required],contactnumber:["",p.kI.required],email:["",[p.kI.required,p.kI.email,p.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],roleId:["",p.kI.required],status:[""]}),this.userroles=[{roleId:"A27780C7-D66E-4AE0-A78F-14C6A8E84D0D",roleName:"Level 1-Admin"},{roleId:"B3DEA306-B66E-44BB-B669-2F670C30F714",roleName:"Level 2-Admin"},{roleId:"A68E16A9-CAA1-4D80-99DC-FA8F50FDEFBD",roleName:"Internal User"}]}getAllUserDetails(){var a;null===(a=this.LeadsService)||void 0===a||a.getAllUserDetails().subscribe(s=>{this.usersData=s.responseData,this.usersSearch=new g.by(this.usersData),this.usersSearch.paginator=this.userPaginator,this.changetab(1),this.usersSearch.sort=this.sort})}Eventproceedings(){var a;null===(a=this.addEventForm)||void 0===a||a.reset(),this.AddEventProceeding=!0}userorgdetailsSubmit(){if(this.submited=!0,this.orgdetailsForm.invalid)return void this.popup.open(!1,"Enter All the Required Fields");this.userids=JSON.parse(localStorage.getItem("userInfo")||"{}");const a=new FormData;a.append("organizationId",this.editorgId),a.append("organizationName",this.orgdetailsForm.value.organizationName),a.append("spocName",this.orgdetailsForm.value.spocName),a.append("spocDesignation",this.orgdetailsForm.value.spocDesignation),a.append("spocphoneNo",this.orgdetailsForm.value.spocphoneNo),a.append("spocEmailId",this.orgdetailsForm.value.spocEmailId),a.append("address",this.orgdetailsForm.value.address),a.append("industryId",this.orgdetailsForm.value.industryId.industryId),a.append("sectorId",this.orgdetailsForm.value.sectorId.sectorId),this.LeadsService.addOrupdateOrgDetail(a).subscribe(s=>{var l;this.popup.open(!0,"Changes Saved!"),null===(l=this.location)||void 0===l||l.back()})}viewuserdetails(a){this.router.navigate(["/user/admin2/view-user-management",{id:a.userId}])}edit(a){this.AddEventProceeding=!0,this.addEventIndex=a}CloseModal(){this.AddEventProceeding=!1,this.AddEventProceeding1=!1,this.addusersdetailsForm.reset(),this.submit=!1}applyFilter(a){this.usersSearch=new g.by(this.usersData.filter(s=>this.containsValue(s,a.target.value.trim().toLowerCase()))),this.usersSearch.paginator=this.userPaginator,this.usersSearch.sort=this.sort}containsValue(a,s){return Object.values(a).reduce((l,v)=>(null!=v&&(v=v.toString().trim().toLowerCase()),l||(null==v?void 0:v.indexOf(s))>-1),!1)}changetab(a){1==a?(this.tab1=!0,this.tab2=!1):(console.log("tab2"),this.tab1=!1,this.tab2=!0)}edit1(a){this.AddEventProceeding1=!0,this.editindex=-1}getAllInternalUsers(){this.Users_service.getAllInternalUsers().subscribe(a=>{var s,l,v;this.orgData=null===(s=a.responseData)||void 0===s?void 0:s.organizationMstDto,this.editorgId=null===(l=this.orgData)||void 0===l?void 0:l.organizationId,this.orgdetailsForm.patchValue({organizationName:this.orgData.organizationName,spocphoneNo:this.orgData.spocphoneNo,spocEmailId:this.orgData.spocEmailId,organizationEmailId:this.orgData.organizationEmailId,address:this.orgData.address,spocName:this.orgData.spocName,spocDesignation:this.orgData.spocDesignation}),this.indusData.forEach(b=>{var U;this.orgData.industryId==b.industryId&&(this.orgdetailsForm.patchValue({industryId:b}),this.sectData=b.sectorList,null===(U=this.sectData)||void 0===U||U.forEach(M=>{this.orgData.sectorId==M.sectorId&&this.orgdetailsForm.patchValue({sectorId:M})}))}),null===this.orgData.imageDataresponse?this.demoimg=!1:(this.demo=this._sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64,"+this.orgData.imageDataresponse),this.orgdetailsForm.controls.file.setValidators(null),this.demoimg=!0),this.addUser=null===(v=a.responseData)||void 0===v?void 0:v.userMstDtolist,this.dataSource=new g.by(this.addUser),this.dataSource.paginator=this.subPaginator},a=>{var s,l;return null===(s=this.toast)||void 0===s?void 0:s.error({title:"Error",message:null===(l=null==a?void 0:a.error)||void 0===l?void 0:l.statusMessage})})}adduser(){var a;this.submit=!0,this.addusersdetailsForm.valid?(this.Users_service.addInternalUser({userName:this.addusersdetailsForm.value.name,designation:this.addusersdetailsForm.value.designation,contactNo:this.addusersdetailsForm.value.contactnumber,emailId:this.addusersdetailsForm.value.email,roleId:this.addusersdetailsForm.value.roleId.roleId,roleName:this.addusersdetailsForm.value.roleId.roleName,status:this.addusersdetailsForm.value.status?"1":"0",organizationId:this.editorgId}).subscribe(l=>{this.getAllInternalUsers(),this.toast.success({title:"Success",message:"Saved Successfully!"})}),this.addusersdetailsForm.reset(),this.AddEventProceeding1=!1,this.submit=!1):(this.toast.error({title:"Error",message:"Please fill required fields"}),null===(a=this.addusersdetailsForm)||void 0===a||a.markAllAsTouched())}deleteuser(a){this.addUser.splice(a,1)}viewuserdetails1(a){this.router.navigate(["/user/admin2/view-user-management",{id:a.userId}])}applyFilter1(a){var s,l,v;console.log(null===(l=null===(s=a.target)||void 0===s?void 0:s.value.trim())||void 0===l?void 0:l.toLowerCase(),"called keyup"),this.dataSource=new g.by(null===(v=this.addUser)||void 0===v?void 0:v.filter(b=>{var U,M;return this.getFilteredList(b,null===(M=null===(U=a.target)||void 0===U?void 0:U.value.trim())||void 0===M?void 0:M.toLowerCase())})),this.dataSource.paginator=this.subPaginator}getFilteredList(a,s){var l,v;return null===(v=null===(l=null==Object?void 0:Object.values(a))||void 0===l?void 0:l.map(b=>{var U,M;return null===(M=null===(U=null==b?void 0:b.toString())||void 0===U?void 0:U.trim())||void 0===M?void 0:M.toLowerCase()}))||void 0===v?void 0:v.reduce((b,U)=>b||(null==U?void 0:U.indexOf(s))>-1,!1)}cancel(){this.tab1=!0,this.tab2=!1}getAllIndustry(){this.Master_service.getAllIndustry().subscribe(a=>{console.log(a),this.indusData=a.responseData,this.getAllInternalUsers()})}selectionChange(a,s){this.disableButton=!1,console.log(s,a),a.isUserInput&&(this.sectData=s.sectorList)}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(k.C),t.Y36(A.F0),t.Y36(Y.q),t.Y36(y.f),t.Y36(y.f),t.Y36(p.qu),t.Y36(q.q),t.Y36(w.H7),t.Y36(S.Ye),t.Y36(L.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-management"]],viewQuery:function(a,s){if(1&a&&(t.Gf(H,5),t.Gf(W,5),t.Gf(e.YE,5)),2&a){let l;t.iGM(l=t.CRH())&&(s.userPaginator=l.first),t.iGM(l=t.CRH())&&(s.subPaginator=l.first),t.iGM(l=t.CRH())&&(s.sort=l.first)}},decls:9,vars:4,consts:[[1,"heading"],[1,"page-title-wrapper"],[4,"ngIf"],["class","consen",4,"ngIf"],["class","consen mainContainer",4,"ngIf"],[1,"consen"],[1,"table-group"],[1,"toolbar-block","margin-top-65"],[1,"tabs-button-row"],[1,"tab-buttons"],["mat-button","",3,"click"],[1,"search"],["id","form1","placeholder","Search",1,"form-control",3,"keyup"],[1,"dds-icon","dds-icon_search__l__stroke","icons"],["mat-button","","routerLink","/user/admin2/add-user",1,"primary"],[1,"dds-icon","dds-icon_plus__l__stroke"],[1,"main"],[1,"table-container","max-height-scroll"],["mat-table","","matSort","",1,"table","table-striped","solutions-table",3,"dataSource"],["matColumnDef","userName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","organizationName"],["matColumnDef","emailId"],["matColumnDef","contactNo"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSizeOptions"],["userPaginator",""],["mat-header-cell",""],["mat-cell",""],[1,"dds-icon","dds-icon_edit__l__stroke",3,"click"],["disabled","",1,"dds-icon","dds-icon_delete__l__stroke"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell"],[1,"consen","mainContainer"],[1,"toolbar-block"],[1,"tabs-button-row",2,"margin-right","auto"],[1,"inner-container","internal-scroll"],[3,"formGroup"],[1,"header"],[1,"row"],[1,"col-md-8"],[1,"col-md-6"],[1,"input-group"],["type","text","formControlName","organizationName","maxlength","50","readonly","",1,"form-control","reflect-model",2,"background","rgb(240, 237, 237)",3,"ngClass"],["type","text","formControlName","spocName","oninput","this.value = this.value.replace(/[^a-zA-Z ]/g, '').replace(/(\\..*)\\./g, '$1');","maxlength","50",1,"form-control","reflect-model",3,"ngClass"],["type","text","formControlName","spocDesignation","oninput","this.value = this.value.replace(/[^a-zA-Z0-9 ]/g, '').replace(/(\\..*)\\./g, '$1');","maxlength","50",1,"form-control","reflect-model",3,"ngClass"],[1,"input-group","prefix"],[1,"input-group-addon"],["type","text","formControlName","spocphoneNo","maxlength","10","minlength","10","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*)\\./g, '$1');",1,"form-control","reflect-model",3,"ngClass"],["type","text","formControlName","spocEmailId","maxlength","35",1,"form-control","reflect-model",3,"ngClass"],["appearance","fill"],["placeholder","Select Industry","formControlName","industryId",1,"form-control",3,"ngClass"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"col-md-12"],["rows","4","cols","50","type","text","formControlName","address","maxlength","150",1,"form-control","reflect-model",2,"height","120px",3,"ngClass"],["placeholder","Select Sector","formControlName","sectorId",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"main",2,"margin-top","20px"],["mat-button",""],[1,"table-container"],["mat-table","","matSort","",1,"table","table-striped",2,"padding-top","20px",3,"dataSource"],["mat-button","",1,"btn",2,"float","left",3,"click"],["matColumnDef","roleName"],["subPaginator",""],[1,"button-block",2,"margin-top","20px"],["mat-button","",1,"primary",3,"click"],[1,"button-group"],["mat-button","","type","reset",3,"click"],[1,"dds-icon","dds-icon_close__l__stroke"],["mat-button","","type","submit",1,"primary",3,"click"],[3,"value","onSelectionChange"],["for","imgfile"],["alt","",2,"height","200px","min-width","100px","width","auto",3,"src"],[3,"value"],[1,"dds-icon","dds-icon_delete__l__stroke",3,"click"],[1,"taxt_audit-report"],[1,"taxt-audit-popup"],[1,"taxt-header","popup-header"],[3,"formGroup","ngSubmit"],[1,"popup-body"],[1,"col-sm-4"],["type","name","formControlName","name","oninput","this.value = this.value.replace(/[^a-zA-Z ]/g, '').replace(/(\\..*)\\./g, '$1');","maxlength","50",1,"form-control",3,"ngClass"],["type","designation","formControlName","designation","oninput","this.value = this.value.replace(/[^a-zA-Z0-9 ]/g, '').replace(/(\\..*)\\./g, '$1');","maxlength","50",1,"form-control",3,"ngClass"],["type","contactnumber","formControlName","contactnumber","maxlength","10","minlength","10","oninput","this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*)\\./g, '$1');",1,"form-control",3,"ngClass"],["type","email","formControlName","email","maxlength","35",1,"form-control",3,"ngClass"],["placeholder","Select Role","formControlName","roleId",1,"form-control",3,"ngClass"],[1,"toggle-btn-block"],["formControlName","status"],[1,"button-group","popup-footer"],["mat-button","","onpointerenter","this.setAttribute()","onpointerleave","this.setAttribute()",3,"click"],["mat-button","","onpointerenter","this.setAttribute()","onpointerleave","this.setAttribute()","type","submit",1,"primary",3,"click"],[1,"dds-icon","dds-icon_arrow_right__l__stroke"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"ul")(3,"li"),t._uU(4,"User Management"),t.qZA(),t.YNc(5,j,2,0,"li",2),t.qZA()()(),t.YNc(6,lt,42,10,"div",3),t.YNc(7,Ct,119,38,"div",4),t.YNc(8,bt,60,17,"div",2)),2&a&&(t.xp6(5),t.Q6J("ngIf",s.tab2),t.xp6(1),t.Q6J("ngIf",s.tab1),t.xp6(1),t.Q6J("ngIf",s.tab2),t.xp6(1),t.Q6J("ngIf",s.AddEventProceeding1))},directives:[S.O5,F.a8,O.lW,O.zs,A.yS,g.BZ,e.YE,g.w1,g.fO,g.ge,g.Dz,g.ev,g.as,g.XQ,g.nj,g.Gk,g.Ee,Q.NW,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,p.nD,S.mk,p.wO,J.KE,B.gD,S.sg,R.ey,z.Hw,K.Rr],styles:[""]}),n})()}}]);